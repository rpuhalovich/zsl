#ifndef RESULT_H
#define RESULT_H

#include "types.h"

%INCLUDE%

typedef enum {
    SUCCESS = 0,
    ERROR_UNEXPECTED,
    ERROR_OUT_OF_BOUNDS
} zError;

typedef i32 Error;

%TEMPLATE_BEGIN%
typedef struct {
    %TYPE% result;
    bool fail;
    Error error;
} Result_%TYPE%;

Result_%TYPE% fail_%TYPE%(Error error)
{
    Result_%TYPE% failResult = {0};
    failResult.error = error;
    failResult.fail = true;
    return failResult;
}

Result_%TYPE% success_%TYPE%(%TYPE% result)
{
    Result_%TYPE% successResult = {0};
    successResult.result = result;
    return successResult;
}
%TEMPLATE_END%

#endif // RESULT_H
